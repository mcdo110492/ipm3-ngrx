
<form [formGroup]="equipmentsForm">
  
      <h2 align="center" mat-dialog-title>Equipment</h2>
      <mat-dialog-content>
        <div fxLayout="row">
            <mat-form-field fxFlex>
                <input matInput #code  placeholder="Code" maxlength="20" formControlName="equipmentCode" appUniqueValidators keyUrl="equipments/verify" keyField="equipmentCode" keyId="{{ getCurrentId() }}" required>
                <mat-hint align="end">{{code.value?.length || 0}}/20</mat-hint>
                <mat-error *ngIf="equipmentsForm.get('equipmentCode').hasError('asyncInvalid')">
                    Equipment Code must be unique
                </mat-error>
                <mat-error *ngIf="equipmentsForm.get('equipmentCode').hasError('required')">
                Equipment Code is required
                </mat-error>
            </mat-form-field>

            <mat-form-field fxFlex>
                <input matInput #bodyNum  placeholder="Body Number" maxlength="20" formControlName="bodyNumber" required>
                <mat-hint align="end">{{bodyNum.value?.length || 0}}/20</mat-hint>
                <mat-error>
                    Body Number is required
                </mat-error>
            </mat-form-field>
        </div>

        <div fxLayout="row">
            <mat-form-field fxFlex>
                <input matInput #model  placeholder="Model" maxlength="150" formControlName="model" required>
                <mat-hint align="end">{{model.value?.length || 0}}/150</mat-hint>
                <mat-error>
                    Model is required
                </mat-error>
            </mat-form-field>


            <mat-form-field fxFlex>
                <input matInput #capacity  placeholder="Capacity" maxlength="50" formControlName="capacity" required>
                <mat-hint align="end">{{capacity.value?.length || 0}}/50</mat-hint>
                <mat-error>
                    Capacity is required
                </mat-error>
            </mat-form-field>
        </div>
          

          

          <mat-form-field>
              <input matInput #plate  placeholder="Plate Number" maxlength="50" formControlName="plateNo" required>
              <mat-hint align="end">{{plate.value?.length || 0}}/50</mat-hint>
              <mat-error>
                  Plate Number is required
              </mat-error>
          </mat-form-field>

          <mat-form-field >
              <mat-select placeholder="Unit" formControlName="unitId" required>
                <mat-option *ngFor="let unit of units | async" [value]="unit.unitId">{{unit.unitCode}} - {{ unit.unitName }}</mat-option>
              </mat-select>
              <mat-error>
                Unit is required
              </mat-error>
          </mat-form-field>

          <mat-form-field>
              <input matInput #remarks  placeholder="Remarks" maxlength="150" formControlName="remarks" required>
              <mat-hint align="end">{{remarks.value?.length || 0}}/150</mat-hint>
              <mat-error>
                  Remarks is required
              </mat-error>
          </mat-form-field>
  
     
      </mat-dialog-content>
  
      <mat-dialog-actions align="center">
          
          <button mat-raised-button [disabled]="equipmentsForm.invalid || equipmentsForm.pristine" (click)="submitForm()" color="accent">Save</button>
          <button mat-raised-button (click)="closeDialog()" color="warn">Cancel</button>
      
      </mat-dialog-actions>
  
  </form>
  
  