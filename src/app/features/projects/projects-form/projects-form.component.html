
<form [formGroup]="projectForm">

    <h2 align="center" mat-dialog-title>Project</h2>
    <mat-dialog-content>

        <mat-form-field>
        <input matInput #code  placeholder="Code" maxlength="20" formControlName="projectCode" appUniqueValidators keyUrl="projects/verifyCode" keyId="{{ getCurrentId() }}" required>
        <mat-hint align="end">{{code.value?.length || 0}}/20</mat-hint>
        <mat-error *ngIf="projectForm.get('projectCode').hasError('asyncInvalid')">
            Project Code must be unique
        </mat-error>
        <mat-error *ngIf="projectForm.get('projectCode').hasError('required')">
                Project Code is required
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <input matInput #name maxlength="150" formControlName="projectName" placeholder="Name" required>
            <mat-hint align="end">{{name.value?.length || 0}}/150</mat-hint>
            <mat-error>
                Project Name is required
            </mat-error>
        </mat-form-field>
    </mat-dialog-content>

    <mat-dialog-actions align="end">
        
        <button mat-raised-button [disabled]="projectForm.invalid || projectForm.pristine" (click)="submitForm()" color="accent">Save</button>
        <button mat-raised-button (click)="closeDialog()" color="warn">Cancel</button>
    
    </mat-dialog-actions>

</form>

